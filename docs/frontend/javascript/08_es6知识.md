# 08_es6知识


## 1. let/const/var

### 1.1 let/const

- let/const是没有变量提升的
- 每次执行上下文会关联到一个变量环境(VariableEnvironment)中, 再执行代码中变量和函数的声明会作为环境记录添加到变量环境中
- 使用let/const声明变量, 变量会被保存到`VariableMap`中, 本质上`c++`实现的`hashMap`, 为了方便后续对变量的查找.


### 1.2 块级作用域

- 形成块级作用域条件(对于var声明无效)
  - {}
  - if
  - switch
  - for循环

## 2. 标签模板字符串

- 作用地点
  - React中css书写方式style component

```js
// 第一个参数依然是模块字符串中整个字符串, 只是被切成多块,放到了一个数组中
// 第二个参数是模块字符串中, 第一个 ${}
function foo(m, n, x) {
  console.log(m, n, x, '---------')
}

// foo("Hello", "World")

// 另外调用函数的方式: 标签模块字符串
// foo``

// foo`Hello World`
const name = "why"
const age = 18
// ['Hello', 'Wo', 'rld']
foo`Hello${name}Wo${age}rld`
```

## 3. 展开语法

### 3.1 ...展开语法
- 展开语法为**浅拷贝**


```js
const names = ["abc", "cba", "nba"]
const name = "why"
const info = {name: "why", age: 18}

// 1.函数调用时
function foo(x, y, z) {
  console.log(x, y, z)
}

// foo.apply(null, names)
foo(...names)
foo(...name)

// 2.构造数组时
const newNames = [...names, ...name]
console.log(newNames)

// 3.构建对象字面量时ES2018(ES9)
const obj = { ...info, address: "广州市", ...names }
console.log(obj)
```

### 3.2 大数值

- 进制

```js
const num1 = 10 // 十进制

const num2 = 0b10 // 二进制

const num8 = 0o10 // 八进制

const num16 = 0x10 // 十六进制
```

- 大数值连接符
```js
1_000_000_000 // 方便阅读
```


### 3.3 Symbol

- 作用: 为对象添加独一无二的属性名
- 语法: `Symbol([description])` description是可选的, 用于描述Symbol属性的字符串

```js
const s1 = Symbol("kobe")
const s2 = Symbol("kobe")

console.log(s1 === s2) // false
```

- getOwnPropertySymbols: 获取对象中所有的Symbol属性名

```js
const info = {
  [s1]: "kobe",
  [s2]: "kobe",
  name: "why",
  age: 18
}

const sKeys = Object.getOwnPropertySymbols(info)

for(const sKey of sKeys) {
  console.log(info[sKey])
}
```

- Symbol.for: 通过Symbol.for()获取Symbol值, 如果之前有, 则直接返回, 如果没有, 则创建一个新的Symbol值

```js
const s1 = Symbol.for("kobe")
const s2 = Symbol.for("kobe")

console.log(s1 === s2) // true

const key = Symbol.keyFor(s1)
console.log(key) // kobe
const sc = Symbol.for(key)
console.log(sc === s1) // true
```